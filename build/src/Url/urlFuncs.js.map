{"version":3,"file":"urlFuncs.js","sourceRoot":"","sources":["../../../src/Url/urlFuncs.ts"],"names":[],"mappings":";AAAA;;;;GAIG;;;;;;AAEH,gDAAwB;AACxB,6BAA0B;AAE1B;;;;GAIG;AACH,SAAS,KAAK,CAAC,GAAW;IACxB,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;QAC3B,OAAO,KAAK,CAAC;KACd;IAED,MAAM,UAAU,GAAG,GAAG,CAAC,IAAI,EAAE,CAAC;IAC9B,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QAC5B,OAAO,KAAK,CAAC;KACd;IAED,IAAI;QACF,OAAO,IAAI,SAAG,CAAC,GAAG,CAAC,CAAC;KACrB;IAAC,MAAM;QACN,OAAO,KAAK,CAAC;KACd;AACH,CAAC;AAED;;;;GAIG;AACI,KAAK,UAAU,SAAS,CAAC,GAAW;IACzC,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;IAC5B,IAAI,CAAC,QAAQ;QAAE,OAAO,KAAK,CAAC;IAE5B,MAAM,OAAO,GAAG;QACd,MAAM,EAAE,MAAM;QACd,IAAI,EAAE,QAAQ,CAAC,IAAI;QACnB,IAAI,EAAE,QAAQ,CAAC,QAAQ;QACvB,IAAI,EAAE,EAAE;KACT,CAAC;IAEF,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC,IAAI,OAAO,CAAU,CAAC,OAAO,EAAE,EAAE;QACnD,MAAM,GAAG,GAAG,cAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE;YACxC,IAAI,CAAC,GAAG,CAAC,UAAU,EAAE;gBACnB,OAAO,CAAC,KAAK,CAAC,CAAC;gBACf,OAAO;aACR;YACD,OAAO,CAAC,GAAG,CAAC,UAAU,GAAG,GAAG,IAAI,GAAG,CAAC,UAAU,IAAI,GAAG,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC;QAEH,GAAG,CAAC,GAAG,EAAE,CAAC;IACZ,CAAC,CAAC,CAAC,EAAE,CAAC;AACR,CAAC;AAtBD,8BAsBC","sourcesContent":["/**\n * URL utility functions\n * @module UrlUtils\n * @category URL\n */\n\nimport http from 'http';\nimport { URL } from 'url';\n\n/**\n * Checks if a URL is valid\n * @param str\n * @returns\n */\nfunction isUrl(str: string): URL | false {\n  if (typeof str !== 'string') {\n    return false;\n  }\n\n  const trimmedStr = str.trim();\n  if (trimmedStr.includes(' ')) {\n    return false;\n  }\n\n  try {\n    return new URL(str);\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Checks if a url exists\n * @param url\n * @returns\n */\nexport async function urlExists(url: string): Promise<boolean> {\n  const validUrl = isUrl(url);\n  if (!validUrl) return false;\n\n  const options = {\n    method: 'HEAD',\n    host: validUrl.host,\n    path: validUrl.pathname,\n    port: 80,\n  };\n\n  return (async () => new Promise<boolean>((resolve) => {\n    const req = http.request(options, (res) => {\n      if (!res.statusCode) {\n        resolve(false);\n        return;\n      }\n      resolve(res.statusCode < 400 || res.statusCode >= 500);\n    });\n\n    req.end();\n  }))();\n}\n"]}